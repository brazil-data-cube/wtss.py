kind: pipeline

name: wtss.py

steps:
    - name: build
      image: python:3.7
      commands:
          - pip install --upgrade pip
          - pip install --upgrade setuptools
          - pip install -e .[tests,docs]
          - ./run-tests.sh

    - name: codecov
      image: plugins/codecov
      settings:
          token:
              from_secret: CODECOV_TOKEN
          files:
              - coverage.xml
              - .coverage